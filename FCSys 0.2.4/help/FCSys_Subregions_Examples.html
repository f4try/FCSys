<html>
<head>
<title>FCSys.Subregions.Examples</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Examples">
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/Documentation/ModelicaDoc.css">
<link rel="shortcut icon" href="../Resources/Documentation/favicon.ico">
</head>
<body>
<div class="sidebar">
  <div class="sidebarwrapper">
  <a href="FCSys.html"><p class="sidebar-title">FCSys</p></a>
  <p class="logo"><a href="FCSys.html">
    <img src="../Resources/Documentation/icon.gif" class="logo" alt="Logo" width=150>
  </a></p>

<h3>Table of Contents</h3>

    <ul>
    <li><a href="FCSys_UsersGuide.html">User's Guide</a></li>
    <li><a href="FCSys_Blocks.html">Blocks</a></li>
    <li><a href="FCSys_Conditions.html">Conditions</a></li>
    <li><a href="FCSys_Assemblies.html">Assemblies</a></li>
    <li><a href="FCSys_Regions.html">Regions</a></li>
    <li><a href="FCSys_Subregions.html">Subregions</a></li>
    <li><a href="FCSys_Phases.html">Phases</a></li>
    <li><a href="FCSys_Species.html">Species</a></li>
    <li><a href="FCSys_Chemistry.html">Chemistry</a></li>
    <li><a href="FCSys_Connectors.html">Connectors</a></li>
    <li><a href="FCSys_Characteristics.html">Characteristics</a></li>
    <li><a href="FCSys_Units.html">Units</a></li>
    <li><a href="FCSys_Quantities.html">Quantities</a></li>
    <li><a href="FCSys_Utilities.html">Utilities</a></li>
    <li><a href="FCSys_Icons.html">Icons</a></li>
    </ul>
  </div>
</div>

<div class="document">
  <div class="documentwrapper">
    <div class="bodywrapper">
      <div class="body">
<h2><a name="FCSys.Subregions.Examples"></a><a href="FCSys_Subregions.html#FCSys.Subregions">FCSys.Subregions</a>.Examples</h2>

<b>Examples</b>

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage">Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).

<h3>Package Content</h3>

<table border=1 cellspacing=0 cellpadding=2 >
<tr><th>Name</th><th>Description</th></tr>
<tr><td><img src="FCSys.Subregions.Examples.PhaseChangeS.png" alt="FCSys.Subregions.Examples.PhaseChange" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples_PhaseChange.html#FCSys.Subregions.Examples.PhaseChange">PhaseChange</a>
</td><td>Examples of phase change</td></tr>
<tr><td><img src="FCSys.Subregions.Examples.PhaseChangeS.png" alt="FCSys.Subregions.Examples.Reactions" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples_Reactions.html#FCSys.Subregions.Examples.Reactions">Reactions</a>
</td><td>Examples of phase change</td></tr>
<tr><td><img src="FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.AirColumn" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.AirColumn">AirColumn</a>
</td><td>Gas in a vertical array of subregions, affected by gravity</td></tr>
<tr><td><img src="FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.BinaryDiffusion" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.BinaryDiffusion">BinaryDiffusion</a>
</td><td>Pressure-driven flow of H<sub>2</sub>, dragging H<sub>2</sub>O</td></tr>
<tr><td><img src="FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.Echo" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Echo">Echo</a>
</td><td>Two regions of gas with an initial pressure difference</td></tr>
<tr><td><img src="FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.EchoCentral" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.EchoCentral">EchoCentral</a>
</td><td>Two regions of gas with an initial pressure difference, with central difference scheme</td></tr>
<tr><td><img src="FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.ElectricalConduction" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.ElectricalConduction">ElectricalConduction</a>
</td><td>Migration of e<sup>-</sup> through C<sup>+</sup></td></tr>
<tr><td><img src="FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.InternalFlow" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.InternalFlow">InternalFlow</a>
</td><td>Internal, laminar flow of liquid water</td></tr>
<tr><td><img src="FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.Subregion" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Subregion</a>
</td><td>Single subregion, with H<sub>2</sub> by default</td></tr>
<tr><td><img src="FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.Subregions" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a>
</td><td>Horizontal array of subregions with an initial pressure difference (H<sub>2</sub> included by default)</td></tr>
<tr><td><img src="FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.ThermalConduction" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.ThermalConduction">ThermalConduction</a>
</td><td>Thermal conduction (through solid)</td></tr>
<tr><td><img src="FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.ThermalConductionConvection" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.ThermalConductionConvection">ThermalConductionConvection</a>
</td><td>Thermal conduction through a solid alongside conduction and convection through a gas</td></tr>
</table>
<hr>

<h2><img src="FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.AirColumn" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.AirColumn"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.AirColumn</h2>
<b>Gas in a vertical array of subregions, affected by gravity</b>
<img src="FCSys.Subregions.Examples.AirColumnD.png" alt="FCSys.Subregions.Examples.AirColumn">

<h3>Information</h3>

<p>This is a model of a vertical column of 10&nbsp;&times;&nbsp;10&nbsp;&times;&nbsp;10&nbsp;m
    regions with N<sub>2</sub> gas.  The upper boundary is held at 1 bar and the lower boundary has zero velocity.

    The initial pressure difference is zero, but a gas enters the upper boundary and a pressure difference
    develops due to gravity.  There are oscillations due to the inertance and compression of the gas.
    After about 1.5&nbsp;s, the pressure difference settles to

      <i>L</i><sub>y</sub> <i>a</i><sub>y</sub> <i>m</i> &rho;
      as expected.</p>

      <p>A temperature gradient is created due to the thermodynamics of the expanding and contracting

      gases.  It takes much longer (over a year!) for the temperatures to equalize due to the size of the system and the low
      thermal conductivity of the gas.  With a stiff solver, the model should simulate at this time scale as well.</p>

      <p>The damping factor (<i>k</i>) can be used to scale the continuity (&zeta;) of the gas in the regions.

      The oscillations are dampened considerably at <i>k</i> = 100.  However, with high values of the factor, the boundary pressures
      are decoupled from the pressures in the region because the nonequilibrium force is considerable.</p>

      <p>Assumptions:</p>
      <ol>
      <li>The central difference scheme is used (no upstream discretization).</ol>
Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_y</td><td>3</td><td>Number of discrete subregions along the y axis, besides the 2 boundary subregions</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>0</td><td>Initial pressure difference [M/(L.T2)]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>k</td><td>5</td><td>Damping factor [1]</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> AirColumn <font color="darkgreen">
  &quot;Gas in a vertical array of subregions, affected by gravity&quot;</font>
  <font color="blue">import </font><a href="FCSys_Utilities.html#FCSys.Utilities.round">FCSys.Utilities.round</a>;
  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">parameter </font>Integer n_y=3 <font color="darkgreen">
    &quot;Number of discrete subregions along the y axis, besides the 2 boundary subregions&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap_IC=0 <font color="darkgreen">&quot;Initial pressure difference&quot;</font>;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap=subregion2.gas.N2.p - subregion1.gas.N2.p <font color="darkgreen">
    &quot;Measured pressure difference&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap_ex=-(n_y + 1)*10*U.m*environment.a[Axis.y]*
      Characteristics.N2.Gas.m*subregions[<font color="red">round</font>(n_y/2)].gas.N2.rho <font color="darkgreen">
    &quot;Expected pressure difference&quot;</font>;

  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> k=5 <font color="darkgreen">&quot;Damping factor&quot;</font>;

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(p=U.bar);
  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion1(
    L={10,10,10}*U.m,
    inclTransX=false,
    inclTransY=true,
    inclTransZ=false,
    gas(inclN2=true, N2(
        zeta=k*<font color="red">FCSys.Characteristics.H2.Gas.zeta</font>(),
        p_IC=environment.p - Deltap_IC/2,
        upstreamY=false)));

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregions[n_y](
    <font color="blue">each </font>L={10,10,10}*U.m,
    <font color="blue">each </font>inclTransZ=false,
    gas(<font color="blue">each </font>inclN2=true, N2(
        <font color="blue">each </font>zeta=k*<font color="red">FCSys.Characteristics.H2.Gas.zeta</font>(),
        p_IC={environment.p - Deltap_IC/2 - i*Deltap_IC/(n_y + 1) <font color="blue">for </font>i<font color="blue"> in </font>1:
            n_y},
        <font color="blue">each </font>upstreamY=false)),
    <font color="blue">each </font>inclTransX=false,
    <font color="blue">each </font>inclTransY=true) <font color="blue">if </font>n_y &gt; 0;

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion2(
    L={10,10,10}*U.m,
    inclTransZ=false,
    inclTransX=false,
    inclTransY=true,
    gas(inclN2=true, N2(
        zeta=k*<font color="red">FCSys.Characteristics.H2.Gas.zeta</font>(),
        p_IC=environment.p + Deltap_IC/2,
        upstreamY=false)));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> BC(gas(inclN2=true, N2(
          materialSet(y=environment.p))));

<font color="blue">equation </font>
  <font color="red">connect</font>(subregion1.yPositive, subregions[1].yNegative);

  <font color="blue">for </font>i<font color="blue"> in </font>1:n_y - 1<font color="blue"> loop</font>
    <font color="red">connect</font>(subregions[1:n_y - 1].yPositive, subregions[2:n_y].yNegative) <font color="darkgreen">
      &quot;Not shown in the diagram&quot;</font>;
  <font color="blue">end for</font>;
  <font color="blue">if </font>n_y == 0<font color="blue"> then</font>
    <font color="red">connect</font>(subregion1.yPositive, subregion2.yNegative) <font color="darkgreen">
      &quot;Not shown in the diagram&quot;</font>;
  <font color="blue">end if</font>;
  <font color="red">connect</font>(subregions[n_y].yPositive, subregion2.yNegative);

  <font color="red">connect</font>(BC.boundary, subregion2.yPositive);
<font color="blue">end </font>AirColumn;
</pre>
<hr>

<h2><img src="FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.BinaryDiffusion" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.BinaryDiffusion"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.BinaryDiffusion</h2>
<b>Pressure-driven flow of H<sub>2</sub>, dragging H<sub>2</sub>O</b>
<img src="FCSys.Subregions.Examples171a324cd6606a99usionD.png" alt="FCSys.Subregions.Examples.BinaryDiffusion">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Subregion</a> (Single subregion, with H<sub>2</sub> by default).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>true</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> BinaryDiffusion <font color="darkgreen">
  &quot;Pressure-driven flow of H<sub>2</sub>, dragging H<sub>2</sub>O&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Subregion</a>(
    inclH2O=true,
    &#39;inclC+&#39;=true,
    subregion(common(k_Phi={1e-5,1e-5,1e-5}),gas(
        common(k_Phi={1e4,1e4,1e4}),
        H2(T(stateSelect=StateSelect.always), phi(<font color="blue">each </font>stateSelect=StateSelect.always)),

        H2O(initEnergy=Init.none, boundaries(Ndot(<font color="blue">each </font>stateSelect=StateSelect.always))))),

    environment(RH=0.6));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> source(gas(
      inclH2=true,
      inclH2O=true,
      H2(
        thermalSet(y=environment.T),
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        <font color="blue">redeclare </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> materialSet(
          height=-U.Pa,
          offset=environment.p_dry,
          duration=10)),
      H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p_H2O),
        thermalSet(y=environment.T))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> sink(gas(
      inclH2=true,
      inclH2O=true,
      H2(materialSet(y=-source.gas.H2.boundary.Ndot), thermalSet(y=environment.T)),

      H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p_H2O),
        thermalSet(y=environment.T))));

<font color="blue">equation </font>
  <font color="red">connect</font>(source.boundary, subregion.xNegative);
  <font color="red">connect</font>(subregion.xPositive, sink.boundary);
<font color="blue">end </font>BinaryDiffusion;
</pre>
<hr>

<h2><img src="FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.Echo" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Echo"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Echo</h2>
<b>Two regions of gas with an initial pressure difference</b>
<img src="FCSys.Subregions.Examples.EchoD.png" alt="FCSys.Subregions.Examples.Echo">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a> (Horizontal array of subregions with an initial pressure difference (H<sub>2</sub> included by default)).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>k</td><td>1</td><td>Damping factor [1]</td></tr>
<tr><td>Integer</td><td>n_x</td><td>0</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>-100*U.Pa</td><td>Initial pressure difference [M/(L.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Echo <font color="darkgreen">&quot;Two regions of gas with an initial pressure difference&quot;</font>
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> k=1 <font color="darkgreen">&quot;Damping factor&quot;</font>;

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a>(subregion1(gas(H2(zeta=k*<font color="red">Characteristics.H2.Gas.zeta</font>()))),
      subregion2(gas(H2(zeta=k*<font color="red">FCSys.Characteristics.H2.Gas.zeta</font>()))));

<font color="blue">end </font>Echo;
</pre>
<hr>

<h2><img src="FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.EchoCentral" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.EchoCentral"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.EchoCentral</h2>
<b>Two regions of gas with an initial pressure difference, with central difference scheme</b>
<img src="FCSys.Subregions.Examples.EchoD.png" alt="FCSys.Subregions.Examples.EchoCentral">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Echo">Echo</a> (Two regions of gas with an initial pressure difference).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>k</td><td>1</td><td>Damping factor [1]</td></tr>
<tr><td>Integer</td><td>n_x</td><td>0</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>-100*U.Pa</td><td>Initial pressure difference [M/(L.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> EchoCentral <font color="darkgreen">
  &quot;Two regions of gas with an initial pressure difference, with central difference scheme&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Echo">Echo</a>(
    subregion1(gas(
        H2(upstreamX=false),
        H2O(upstreamX=false),
        N2(upstreamX=false),
        O2(upstreamX=false))),
    subregions(gas(
        H2(<font color="blue">each </font>upstreamX=false),
        H2O(<font color="blue">each </font>upstreamX=false),
        N2(<font color="blue">each </font>upstreamX=false),
        O2(<font color="blue">each </font>upstreamX=false))),
    subregion2(gas(
        H2(upstreamX=false),
        H2O(upstreamX=false),
        N2(upstreamX=false),
        O2(upstreamX=false))));

<font color="blue">end </font>EchoCentral;
</pre>
<hr>

<h2><img src="FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.ElectricalConduction" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.ElectricalConduction"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.ElectricalConduction</h2>
<b>Migration of e<sup>-</sup> through C<sup>+</sup></b>
<img src="FCSys.Subregions.Examples5d022250f56b8638ctionD.png" alt="FCSys.Subregions.Examples.ElectricalConduction">

<h3>Information</h3>

<p>This is an example of Ohm's law.  The 1&nbsp;cm &times; 1&nbsp;mm &times; 1&nbsp;mm subregion contains
    carbon (C<sup>+</sup>) and electrons.  An electrical current of 50&nbsp;mA (5&nbsp;A/cm<sup>2</sup>) is delivered into
    the negative boundary and exits the positive boundary.  Due to the finite mobility of
    the electrons a force is required to support the current; this maps directly to
    electrical potential.  The example shows that the measured resistance is
    <i>R</i>&nbsp;=&nbsp;<i>L</i>/(<i>A</i>&nbsp;<i>&rho;</i>&nbsp;&mu;) as expected, where &rho; is electronic
    density and &mu; is electronic mobility.</p>

    <p>The measured rate of heat generation (<code>subregion.graphite.'e-'.Edot_DT</code>)
    is equal to <i>P</i> = (<i>zI</i>)<sup>2</sup> <i>R</i> as expected, where
    <i>zI</i> = 50&nbsp;mA is the electrical current.  This heat is conducted through the carbon
    to the boundaries, which are held at 25&nbsp;&deg;C.  The measured steady state temperature
    is <i>T</i>&nbsp;=&nbsp;<i>T</i><sub>0</sub>&nbsp;+&nbsp;&theta;&nbsp;<i>L</i>&nbsp;<i>P</i>/(4&nbsp;<i>A</i>) as expected, where
    <i>T</i><sub>0</sub>&nbsp;=&nbsp;25&nbsp;&deg;C is the boundary temperature and
    &theta; is the thermal resistance.  The factor of one fourth
    is due to the boundary conditions; the conduction length is half of the total length
    and the heat is rejected to both sides.  There is no thermal convection or

    radiation&mdash;only conduction to the sides.</p>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Single subregion, with H<sub>2</sub> by default).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>true</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> ElectricalConduction <font color="darkgreen">
  &quot;Migration of e<sup>-</sup> through C<sup>+</sup>&quot;</font>

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=subregion.graphite.'e-'.Deltag[1] <font color="darkgreen">&quot;Electrical potential&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Current">Q.Current</a> zI=-subregion.graphite.'e-'.I[1] <font color="darkgreen">&quot;Electrical current&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistanceElectrical">Q.ResistanceElectrical</a> R=w/zI <font color="darkgreen">&quot;Measured electrical resistance&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistanceElectrical">Q.ResistanceElectrical</a> R_ex=subregion.L[Axis.x]/(subregion.graphite.
      'e-'.sigma*subregion.A[Axis.x]) <font color="darkgreen">&quot;Expected electrical resistance&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Power">Q.Power</a> P=subregion.graphite.'e-'.Edot_AT <font color="darkgreen">
    &quot;Measured rate of heat generation&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Power">Q.Power</a> P_ex=zI^2*R <font color="darkgreen">&quot;Expected rate of heat generation&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute">Q.TemperatureAbsolute</a> T=subregion.graphite.'C+'.T <font color="darkgreen">
    &quot;Measured temperature&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute">Q.TemperatureAbsolute</a> T_ex=environment.T + subregion.graphite.'C+'.theta
      *U.cm*P/(4*subregion.A[Axis.x]) <font color="darkgreen">&quot;Expected temperature&quot;</font>;

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(
    &#39;inclC+&#39;=true,
    &#39;incle-&#39;=true,
    inclH2=false,
    subregion(L={U.cm,U.mm,U.mm}, graphite(&#39;C+&#39;(epsilon=1),&#39;e-&#39;(sigma=1e2*U.S/U.m))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> BC1(graphite(
      &#39;incle-&#39;='incle-',
      &#39;inclC+&#39;=true,
      &#39;C+&#39;(set(y=environment.T)),
      &#39;e-&#39;(
        materialSet(y=-0.05*U.A),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,

        thermalSet(y=0))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> BC2(graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;='incle-',
      <font color="blue">redeclare </font><a href="FCSys_Conditions_ByConnector_ThermalDiffusive_Single.html#FCSys.Conditions.ByConnector.ThermalDiffusive.Single.Temperature">Conditions.ByConnector.ThermalDiffusive.Single.Temperature</a> &#39;C+&#39;
        (set(y=environment.T))));

<font color="blue">equation </font>
  <font color="red">connect</font>(BC1.boundary, subregion.xNegative);

  <font color="red">connect</font>(subregion.xPositive, BC2.boundary);

<font color="blue">end </font>ElectricalConduction;
</pre>
<hr>

<h2><img src="FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.InternalFlow" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.InternalFlow"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.InternalFlow</h2>
<b>Internal, laminar flow of liquid water</b>
<img src="FCSys.Subregions.Examples.InternalFlowD.png" alt="FCSys.Subregions.Examples.InternalFlow">

<h3>Information</h3>

<p>A small-signal variation is added to the time-average flow rate in order to demonstrate the effects of inertance.</p>

    <p>Note that the temperature increases due to viscous dissipation, but the increase is limited by thermal convection.  The walls are adiabatic.</p>
Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Single subregion, with H<sub>2</sub> by default).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.VolumeRate">VolumeRate</a></td><td>Vdot_large</td><td>-1.5*U.cc/U.s</td><td>Prescribed large signal volumetric flow rate [L3/T]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> InternalFlow <font color="darkgreen">&quot;Internal, laminar flow of liquid water&quot;</font>
  <font color="blue">import </font><a href="FCSys_Utilities.html#FCSys.Utilities.Delta">FCSys.Utilities.Delta</a>;
  <font color="blue">final </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Area">Q.Area</a> A=subregion.A[Axis.x] <font color="darkgreen">&quot;Cross-sectional area&quot;</font>;

  <font color="darkgreen">// Conditions</font>
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.VolumeRate">Q.VolumeRate</a> Vdot_large=-1.5*U.cc/U.s <font color="darkgreen">
    &quot;Prescribed large signal volumetric flow rate&quot;</font>;

  <font color="darkgreen">// Measurements</font>
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap=<font color="red">Delta</font>(subregion.liquid.H2O.boundaries[1, :].p) <font color="darkgreen">
    &quot;Measured pressure difference&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> D=2*A/(subregion.L[Axis.y] + subregion.L[Axis.z]);
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Number">Q.Number</a> Re=subregion.liquid.H2O.phi[Axis.x]*D*subregion.liquid.H2O.eta
      *subregion.liquid.H2O.Data.m*subregion.liquid.H2O.rho <font color="blue">if </font>environment.analysis
    <font color="darkgreen">&quot;Reynolds number&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap_Poiseuille=-32*subregion.L[Axis.x]*subregion.liquid.H2O.phi[
      Axis.x]/(D^2*subregion.liquid.H2O.eta) <font color="darkgreen">
    &quot;Pressure difference according to Poiseuille&#39;s law&quot;</font>;
  Real x=Deltap_Poiseuille/Deltap;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Power">Q.Power</a> Qdot_gen_Poiseuille=-Deltap_Poiseuille*Vdot <font color="darkgreen">
    &quot;Rate of heat generation according to Poiseuille&#39;s law&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.VolumeRate">Q.VolumeRate</a> Vdot=BC1.liquid.H2O.materialSet.y <font color="darkgreen">
    &quot;Total volumetric flow rate&quot;</font>;

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(inclH2=false, subregion(
      L={U.m,U.mm,U.mm},
      inclTransY=true,
      inclTransZ=true,
      liquid(inclH2O=true, H2O(initMaterial=Init.none))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> BC1(liquid(inclH2O=true, H2O(
        <font color="blue">redeclare </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine">Modelica.Blocks.Sources.Sine</a> materialSet(
          amplitude=0.2*Vdot_large,
          offset=Vdot_large,
          freqHz=1),
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.volumeRate">Conditions.ByConnector.Boundary.Single.Material.volumeRate</a>
            (<font color="blue">redeclare </font><font color="blue">package</font> Data = <a href="FCSys_Characteristics_H2O_Liquid.html#FCSys.Characteristics.H2O.Liquid">FCSys.Characteristics.H2O.Liquid</a>),
        thermalSet(y=environment.T))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> BC2(liquid(inclH2O=true, H2O(
          materialSet(y=U.atm))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> BC3(liquid(inclH2O=true, H2O(<font color="blue">
          redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,
          thermalSet(y=0))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> BC4(liquid(inclH2O=true, H2O(<font color="blue">
          redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,
          thermalSet(y=0))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> BC5(liquid(inclH2O=true, H2O(<font color="blue">
          redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,
          thermalSet(y=0))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> BC6(liquid(inclH2O=true, H2O(<font color="blue">
          redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,
          thermalSet(y=0))));

<font color="blue">equation </font>
  <font color="red">connect</font>(BC1.boundary, subregion.xNegative);

  <font color="red">connect</font>(BC2.boundary, subregion.xPositive);

  <font color="red">connect</font>(subregion.yNegative, BC3.boundary);
  <font color="red">connect</font>(BC4.boundary, subregion.yPositive);

  <font color="red">connect</font>(subregion.zPositive, BC6.boundary);

  <font color="red">connect</font>(subregion.zNegative, BC5.boundary);
<font color="blue">end </font>InternalFlow;
</pre>
<hr>

<h2><img src="FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.Subregion" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Subregion"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Subregion</h2>
<b>Single subregion, with H<sub>2</sub> by default</b>
<img src="FCSys.Subregions.Examples.SubregionD.png" alt="FCSys.Subregions.Examples.Subregion">

<h3>Information</h3>

<p>This model is boring.  It just establishes a
  single subregion with H<sub>2</sub> by default.  There are no boundary conditions
  other than those implied by the open connectors (no diffusion current, no forces,

  no thermal conduction).  Other examples in this package extend from this one.</p>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Subregion <font color="darkgreen">
  &quot;Single subregion, with H<sub>2</sub> by default&quot;</font>

  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">parameter </font>Boolean &#39;inclC+&#39;=false <font color="darkgreen">&quot;Carbon plus (C<sup>+</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclSO3-&#39;=false <font color="darkgreen">
    &quot;Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;incle-&#39;=false <font color="darkgreen">&quot;Electrons (e<sup>-</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclH+&#39;=false <font color="darkgreen">&quot;Protons (H<sup>+</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclH2=true <font color="darkgreen">&quot;Hydrogen (H<sub>2</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclH2O=false <font color="darkgreen">&quot;Water vapor (H<sub>2</sub>O)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclN2=false <font color="darkgreen">&quot;Nitrogen (N<sub>2</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclO2=false <font color="darkgreen">&quot;Oxygen (O<sub>2</sub>)&quot;</font>;

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(RH=0);

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion(
    L={1,1,1}*U.cm,
    inclTransY=false,
    inclTransZ=false,
    graphite(<font color="blue">final </font>&#39;inclC+&#39;='inclC+', <font color="blue">final </font>&#39;incle-&#39;='incle-'),
    ionomer(<font color="blue">final </font>&#39;inclSO3-&#39;='inclSO3-', <font color="blue">final </font>&#39;inclH+&#39;='inclH+'),
    gas(
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2));

<font color="blue">end </font>Subregion;
</pre>
<hr>

<h2><img src="FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.Subregions" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Subregions"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Subregions</h2>
<b>Horizontal array of subregions with an initial pressure difference (H<sub>2</sub> included by default)</b>
<img src="FCSys.Subregions.Examples.SubregionsD.png" alt="FCSys.Subregions.Examples.Subregions">

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>0</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>-100*U.Pa</td><td>Initial pressure difference [M/(L.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Subregions <font color="darkgreen">
  &quot;Horizontal array of subregions with an initial pressure difference (H<sub>2</sub> included by default)&quot;</font>
  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">parameter </font>Integer n_x=0 <font color="darkgreen">
    &quot;Number of discrete subregions along the x axis, besides the 2 side subregions&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap_IC=-100*U.Pa <font color="darkgreen">&quot;Initial pressure difference&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclC+&#39;=false <font color="darkgreen">&quot;Carbon plus (C<sup>+</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclSO3-&#39;=false <font color="darkgreen">
    &quot;Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;incle-&#39;=false <font color="darkgreen">&quot;Electrons (e<sup>-</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclH+&#39;=false <font color="darkgreen">&quot;Protons (H<sup>+</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclH2=true <font color="darkgreen">&quot;Hydrogen (H<sub>2</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclH2O=false <font color="darkgreen">&quot;Water vapor (H<sub>2</sub>O)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclN2=false <font color="darkgreen">&quot;Nitrogen (N<sub>2</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclO2=false <font color="darkgreen">&quot;Oxygen (O<sub>2</sub>)&quot;</font>;

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment;
  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion1(
    L={1,1,1}*U.cm,
    inclTransY=false,
    inclTransZ=false,
    gas(
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2,
      H2(p_IC=environment.p - Deltap_IC/2, phi(<font color="blue">each </font>stateSelect=StateSelect.always,
            <font color="blue">each </font>fixed=true)),
      H2O(p_IC=environment.p - Deltap_IC/2, phi(<font color="blue">each </font>stateSelect=StateSelect.always,
            <font color="blue">each </font>fixed=true)),
      N2(p_IC=environment.p - Deltap_IC/2, phi(<font color="blue">each </font>stateSelect=StateSelect.always,
            <font color="blue">each </font>fixed=true)),
      O2(p_IC=environment.p - Deltap_IC/2, phi(<font color="blue">each </font>stateSelect=StateSelect.always,
            <font color="blue">each </font>fixed=true))),
    graphite(<font color="blue">final </font>&#39;inclC+&#39;='inclC+', <font color="blue">final </font>&#39;incle-&#39;='incle-'),
    ionomer(<font color="blue">final </font>&#39;inclSO3-&#39;='inclSO3-', <font color="blue">final </font>&#39;inclH+&#39;='inclH+'),
    liquid(H2O(epsilon_IC=0.25)));

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregions[n_x](
    <font color="blue">each </font>L={1,1,1}*U.cm,
    <font color="blue">each </font>inclTransY=false,
    <font color="blue">each </font>inclTransZ=false,
    gas(
      <font color="blue">each </font><font color="blue">final </font>inclH2=inclH2,
      <font color="blue">each </font><font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">each </font><font color="blue">final </font>inclN2=inclN2,
      <font color="blue">each </font><font color="blue">final </font>inclO2=inclO2,
      H2(p_IC={environment.p - Deltap_IC/2 - i*Deltap_IC/(n_x + 1) <font color="blue">for </font>i<font color="blue"> in </font>1:
            n_x}, <font color="blue">each </font>phi(<font color="blue">each </font>stateSelect=StateSelect.always, <font color="blue">each </font>fixed=true)),

      H2O(p_IC={environment.p - Deltap_IC/2 - i*Deltap_IC/(n_x + 1) <font color="blue">for </font>i<font color="blue"> in </font>1:
            n_x}, <font color="blue">each </font>phi(<font color="blue">each </font>stateSelect=StateSelect.always, <font color="blue">each </font>fixed=true)),

      N2(p_IC={environment.p - Deltap_IC/2 - i*Deltap_IC/(n_x + 1) <font color="blue">for </font>i<font color="blue"> in </font>1:
            n_x}, <font color="blue">each </font>phi(<font color="blue">each </font>stateSelect=StateSelect.always, <font color="blue">each </font>fixed=true)),

      O2(p_IC={environment.p - Deltap_IC/2 - i*Deltap_IC/(n_x + 1) <font color="blue">for </font>i<font color="blue"> in </font>1:
            n_x}, <font color="blue">each </font>phi(<font color="blue">each </font>stateSelect=StateSelect.always, <font color="blue">each </font>fixed=true))),

    graphite(<font color="blue">each </font><font color="blue">final </font>&#39;inclC+&#39;='inclC+', <font color="blue">each </font><font color="blue">final </font>&#39;incle-&#39;='incle-'),
    ionomer(<font color="blue">each </font><font color="blue">final </font>&#39;inclSO3-&#39;='inclSO3-', <font color="blue">each </font><font color="blue">final </font>&#39;inclH+&#39;='inclH+'),
    liquid(H2O(<font color="blue">each </font>epsilon_IC=0.25))) <font color="blue">if </font>n_x &gt; 0;

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion2(
    L={1,1,1}*U.cm,
    inclTransY=false,
    inclTransZ=false,
    gas(
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2,
      H2(p_IC=environment.p + Deltap_IC/2),
      H2O(p_IC=environment.p + Deltap_IC/2),
      N2(p_IC=environment.p + Deltap_IC/2),
      O2(p_IC=environment.p + Deltap_IC/2)),
    graphite(<font color="blue">final </font>&#39;inclC+&#39;='inclC+', <font color="blue">final </font>&#39;incle-&#39;='incle-'),
    ionomer(<font color="blue">final </font>&#39;inclSO3-&#39;='inclSO3-', <font color="blue">final </font>&#39;inclH+&#39;='inclH+'),
    liquid(H2O(<font color="blue">each </font>epsilon_IC=0.25)));

<font color="blue">equation </font>
  <font color="red">connect</font>(subregion1.xPositive, subregions[1].xNegative);

  <font color="blue">for </font>i<font color="blue"> in </font>1:n_x - 1<font color="blue"> loop</font>
    <font color="red">connect</font>(subregions[i].xPositive, subregions[i + 1].xNegative) <font color="darkgreen">
      &quot;Not shown in the diagram&quot;</font>;
  <font color="blue">end for</font>;
  <font color="blue">if </font>n_x == 0<font color="blue"> then</font>
    <font color="red">connect</font>(subregion1.xPositive, subregion2.xNegative) <font color="darkgreen">
      &quot;Not shown in the diagram&quot;</font>;
  <font color="blue">end if</font>;
  <font color="red">connect</font>(subregions[n_x].xPositive, subregion2.xNegative);

<font color="blue">end </font>Subregions;
</pre>
<hr>

<h2><img src="FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.ThermalConduction" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.ThermalConduction"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.ThermalConduction</h2>
<b>Thermal conduction (through solid)</b>
<img src="FCSys.Subregions.Examples.SubregionsD.png" alt="FCSys.Subregions.Examples.ThermalConduction">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Examples.Subregions</a> (Horizontal array of subregions with an initial pressure difference (H<sub>2</sub> included by default)).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>6</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>-100*U.Pa</td><td>Initial pressure difference [M/(L.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> ThermalConduction <font color="darkgreen">&quot;Thermal conduction (through solid)&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Examples.Subregions</a>(
    n_x=6,
    &#39;inclC+&#39;=true,
    inclH2=false,
    subregion1(graphite(&#39;C+&#39;(T_IC=environment.T + 30*U.K, epsilon=1))),
    subregions(<font color="blue">each </font>graphite(&#39;C+&#39;(epsilon=1))),
    subregion2(graphite(&#39;C+&#39;(epsilon=1))));

<font color="blue">end </font>ThermalConduction;
</pre>
<hr>

<h2><img src="FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.ThermalConductionConvection" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.ThermalConductionConvection"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.ThermalConductionConvection</h2>
<b>Thermal conduction through a solid alongside conduction and convection through a gas</b>
<img src="FCSys.Subregions.Examples.SubregionsD.png" alt="FCSys.Subregions.Examples.ThermalConductionConvection">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.ThermalConduction">ThermalConduction</a> (Thermal conduction (through solid)).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>6</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>-100*U.Pa</td><td>Initial pressure difference [M/(L.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>true</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> ThermalConductionConvection <font color="darkgreen">
  &quot;Thermal conduction through a solid alongside conduction and convection through a gas&quot;</font>

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.ThermalConduction">ThermalConduction</a>(
    inclN2=true,
    subregion1(gas(N2(
          T_IC=subregion1.graphite.'C+'.T_IC,
          phi(stateSelect=StateSelect.always, displayUnit=&quot;mm/s&quot;),
          phi_boundaries(<font color="blue">each </font>displayUnit=&quot;mm/s&quot;))), graphite(&#39;C+&#39;(epsilon=0.5))),

    subregions(
      common(<font color="blue">each </font>k_Phi={10,10,10}),
      gas(N2(<font color="blue">each </font>phi(<font color="blue">each </font>stateSelect=StateSelect.always, displayUnit=&quot;mm/s&quot;),
            <font color="blue">each </font>phi_boundaries(<font color="blue">each </font>displayUnit=&quot;mm/s&quot;))),
      <font color="blue">each </font>graphite(&#39;C+&#39;(epsilon=0.5))),
    subregion2(gas(N2(phi(displayUnit=&quot;mm/s&quot;), phi_boundaries(<font color="blue">each </font>displayUnit=&quot;mm/s&quot;))),
        graphite(&#39;C+&#39;(epsilon=0.5))),
    environment(psi_O2_dry=0, RH=0));

<font color="blue">end </font>ThermalConductionConvection;
</pre>
      </div>
    </div>
  </div>
</div>
<div class="footer">
  &copy; Copyright 2007&ndash;2014, Kevin Davies, Hawaii Natural Energy Institute. Last updated Wed Jan 22 14:51:09 2014.
</div>
</body>
</html>
